# Способы модификации блока

В БЭМ-методологии блоки — это универсальные, повнорно используемые компоненты страницы. Одни и те же блоки используются в разных проектах, однако это не означает, что все БЭМ-проекты одинаковые. Блоки можно изменять различными способами:

* [Модификатором](#Модификатором)
* [Уровнем переопределения](#Уровнем-переопределения)
* [Миксом](#Миксом)
* [Контекстом](#Контекстом)

Принципы модификации блока:

Все способы не требуют: 
  * копировать код блока для внесения изменений;
  * изменять исходную реализацию блока.
* Создавать новый блок на основе существующего для внесения изменений./ чтобы внести правки. Такой подход позволяет обходитьбся одним блоком, который изменяется для каждого конкретного случая. Так в проекте не будет нескоольких кнопок для разных случаев, будет одна, измененная под каждую отельную ситуацию.  //Изменения, внесенные в блок, не создают новую сущность на основе универсального блока. Работа продолжется с одной и той же сущностью. Такой подход позволяет не содавать разные типы кнопок (`button_1`, `button_2`, `button_n`) для разных случаев. Есть одна, которая изменяется для каждого конкретного случая.

## Модификатором

Изменение блока производится при помощи установки/снятия модификатора, код которого описывает изменения. Блоку можно добавлять одновременно [несколько модификаторов](#).

Модификатор может задавать блоку:

* [внешний вид](#Меняем-внешний-вид-блока)
* [поведение](#Меняем-поведение-блока)
* [состояние](#)
* [структуру](#Меняем-структуру-блока) (например, добавлять или удалять элементы)

> **Важно** Не создавайте новый блок, который незначительно отличается от уже существующего, добавьте модификатор.

### Примеры

Рассмотрим все случаи изменения блока с помощью модификатора на примере блока `popup`.

На странице `popup` выглядит следующим образом:

HTML

```html
    <!-- Блок popup -->
    <div class="popup">...</div>
```

Отображение

![Transparent popup](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_default.png?raw=true)


#### Изменение внешнего вида блока

Модификатор `theme` в значении `sun` задает желтый фон всплывающему окну:

```html
    <!-- Блок popup с модификатором theme в значении sun-->
    <div class="popup popup_theme_sun">...</div>
```

Отображение

![Yellow background modifier for popup block](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_theme_sun.png?raw=true)

#### Изменение поведения блока

Модификатор `direction` отвечает за направление открытия всплывающего окна.

Модификатор `direction` в значении `left` открывает всплывающее влево:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_left">...</div>
```

Отображение

![Left direction modifier for popup block](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_left.png?raw=true)

Модификатор `direction` в значении `bottom` открывает всплывающее окно вниз:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_bottom">...</div>
```

Отображение

![Bottom direction modifier for popup block](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_bottom.png?raw=true)


#### Изменение состояния блока

Модификатор `focused` приводит блок в состояние «в фокусе»:

```html
    <!-- Блок popup -->
    <div class="popup popup_focused">...</div>
```

Отображение

![Focused popup block](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_focused.png?raw=true)


> Подробнее о [правилах описания булевых модификаторов](https://ru.bem.info/methodology/naming-convention/#Модификатор-блока)

#### Изменение структуры блока

Модификатор `has-tail` в значении `true` добавляет блоку `popup` новый элемент — «хвостик». Также модификатор добавляет отступы блоку, освобождая место для хвостика.

```html
    <!-- Блок popup -->
    <div class="popup popup_has-tail">...</div>
```

![Modifier for adding tail element to popup](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup__tail_1.png?raw=true)

#### Добавление нескольких модификаторов 

Добавим модификаторы:

* `theme` в значении `sun`;
* `direction` в значении `bottom`. 

```html
    <!-- Блок popup -->
    <div class="popup popup_theme_sun popup_direction_bottom">...</div>
```

Попап откроется вниз и будет иметь желтый фон.

![Bottom direction modifier for yellow popup block](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_bottom_theme_sun.png?raw=true)


## Уровнем переопределения

Изменение блока производится при помощи объединения свойств блока с разных уровней переопределния. Изменения блока описываются на отдельном уровне переопределения и подключаются при сборке. 

> [Принципы работы уровней переопределения]()

### Пример

Универсальные блоки из библиотеки должны выглядеть в разных проектах по-разному. Для этого достаточно подключить библиотеку в проект как отдельный уровень и описать изменения блока на другом уровне переопределения.

> Разделение реализации блока по уровням переопределения позволяет сохранить изменения, сделанные для проекта, при обновлении библиотеки.

Рассмотрим на примере блока button. Библиотека подключениа в проект на отдельный уровень (`library.blocks`).

Исходная реализация блока `button` в библиотеке:

![Исходная реализация кнопки]()

Добавим кнопке тень. Для этого доопределим CSS-правила блока `button` на уровне проекта (`project.blocks`).

Файловая система с новым файлом `button.css` на уровне `project.blocks`:

```files
project/
    library.blocks/
        button/
            button.css    # исходжная CSS-реализация кнопки в библиотеке

    project.blocks/
        button/
            button.css    # переопределение на уровне проекта (высота 24px)
```

Новые CSS-правила:

```css
    <!-- Новые правила для блока button -->
.button {
    box-shadow: 0 0 10px rgba(0,0,0,0.5); /* Параметры тени */
}
```

В результате для блока `button` примененятся правила с обоих уровней переопределения:

```css
@import "library.blocks/button/button.css";   /* Исходные CSS-правила с уровня библиотеки */
@import "project.blocks/button/button.css";   /* Особенности с уровня project.blocks */
```

Кнопка в проекте будет выглядеть так:

![Кнопка с тенью]()


> [Больше прмеров]()

ИЛИ 

> Смотри также:
> [Пример 1](#)
> [Пример 2](#)

## Миксом

Изменение блока производится при помощи размещения дополнительных БЭМ-сущностей на одном DOM-узле с блоком. В БЭМ для этого используются миксы. [Микс](../method/key-concepts.ru.md#Микс) позволяет добавлять блоку поведение и стили других БЭМ-сущностей.

> Когда использовать микс, когда модификатор при изменении внешнего вида блока?
 
### Пример

С помощью миксов можно:
* [задавать внешнюю геометрию блока]()
* [изменять поведение и стили]()

## Контекстом

Изменение блока производится при помощи размещения одного блока в составе другого. 

> **Важно** Изменять внешний вид и поведение блока контекстом можно, если не получается использовать микс. Необходимо всегда стремиться использовать миксы. Так как при изменении блоков с помощью контекста теряется независимость блоков.

### Пример

?

Цвет текста вложенного блока меняется с зеленого на красный, если он помещен в блок с синим фоном с красными буквами.

Примеры

Переключатель языков (b-lang-switcher)

Language switcher block
Переключатель языков (b-lang-switcher) в подвале страницы (b-foot), уменьшается размер шрифта.

b-lang-switcher with small text
