# Способы модификации блока

В БЭМ-методологии проекты строятся из блоков. Блоки — это универсальные, повнорно используемые компоненты страницы. Одни и те же блоки используются в разных проектах, но это не означает, что все БЭМ-проекты одинаковые. Блоки в БЭМ можно изменять различными способами:

* [Модификатором](#Модификатором)
* [Уровнем переопределения](#Уровнем-переопределения)
* [Миксом](#Миксом)
* [Контекстом](#Контекстом)

Принципы модификации блока:

* Ни один из способов не требует:
  * копировать код блока для внесения изменений;
  * изменять исходную реализацию блока.
* Изменения, внесенные в блок, не создают новую сущность на основе универсального блока. Работа продолжется с одной и той же сущностью. Такой подход позволяет не содавать разные типы кнопок (`button_1`, `button_2`, `button_n`) для разных случаев. Есть одна, которая изменяется для каждого конкретного случая.

## Модификатором

Изменение блока производится при помощи установки/снятия модификатора, код которого описывает изменения. Блоку можно добавлять одновременно несколько модификаторов.

Модификатор может задавать блоку:

* [внешний вид](#Меняем-внешний-вид-блока)
* [состояние](#)
* [поведение](#Меняем-поведение-блока)
* [структуру](#Меняем-структуру-блока) (например, добавлять или удалять элементы)

> **Важно** Не создавайте новый блок, который незначительно отличается от уже существующего, добавьте модификатор.

### Примеры

Рассмотрим все случаи изменения блока с помощью модификатора на примере блока ``.

Попап из библиотеки bem-components выглядит так:

По умолчанию фон у попапа осутствует.

```css
.popup{
	bacground: none;
}
```

```html
    <!-- Блок popup -->
    <div class="popup">...</div>
```

![Transparent popup]()


#### Меняем внешний вид блока 

Добавим блоку модификатор `theme` в значении `sun`, который создаст фон желтого цвета:

```files
project/
	blocks/
		popup/
			popup.js
			popup.css
			_theme/
				popup_theme_sun.css <!-- .popup{ bacground: yellow; }-->
```

```css
.popup{
	bacground: yellow;
}
```

```html
    <!-- Блок popup с модификатором theme в значении sun-->
    <div class="popup popup_theme_sun">...</div>
```

![Yellow background modificator for popup block]()

Модификатор `theme` в значении `forest` добавляет фон зеленого цвета:

```html
    <!-- Блок popup -->
    <div class="popup popup_theme_forest">...</div>
```

![Green background modificator for popup block]()


#### Меняем поведение блока

Добавим модификатор `direction`, который отвечает за направление отображения попапа.

Модификатор `direction` в значении `left` открывает попап влево:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_left">...</div>
```

![Left direction modificator for popup block]()

Модификатор `direction` в значении `right` открывает попап вправо:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_right">...</div>
```

![Right direction modificator for popup block]()


#### Меняем состояние блока


> [Правила описания булевых модификаторов](https://ru.bem.info/methodology/naming-convention/#Модификатор-блока)

#### Меняем структуру блока

Добавим модификатор `has-close` в значении `true`. У блока появляется элемент «закрывающий крестик». Также модификатор добавляет отступы блоку, освобождая место для крестика.

```html
    <!-- Блок popup -->
    <div class="popup popup_has-close">...</div>
```


![Modificator for adding close icon to popup]()

#### Добавляем несколько модификаторов 

Добавим модификаторы:

* `theme` в значении `sun`;
* `direction` в значении `left`. 

```html
    <!-- Блок popup -->
    <div class="popup popup_theme_sun popup_direction_left">...</div>
```

Попап откроется влево и будет иметь желтый фон.

![Left direction modificator for yellow popup block]()


## Уровнем переопределения

В БЭМ-методологии реализация блока может быть разделена по уровням переопределения. Изменения блока описываются на отдельном уровне переопределения и подключаются при сборке. 

> [Принципы работы уровней переопределения]()

### Пример

Универсальные блоки из библиотеки должны выглядеть в разных проектах по-разному. Копировать код блока для каждого нового варианта использования не нужно. Достаточно описать изменения блока на другом уровне переопределения и подключить этот уровень в сборку. 

Общая часть кода применится с уровня библиотеки и изменения — с уровня проекта.

> [Больше прмеров]()

## Миксом

[Миксы](../method/key-concepts.ru.md#Микс) позволяют добавлять блоку поведение и стили других БЭМ-сущностей. Чтобы примиксовать блоку новые свойства, необходимо разместить дополнительные БЭМ-сущности на одном DOM-узле с блоком.

> Когда использовать микс, когда модификатор при изменении внешнего вида блока?
 
### Пример

С помощью миксов можно:
* [задавать внешнюю геометрию блока]()
* [изменять поведение и стили]()

## Контекстом

Внешний вид и поведение блока могут меняться при размещении в другом блоке.

### Пример

?

Цвет текста вложенного блока меняется с зеленого на красный, если он помещен в блок с синим фоном с красными буквами.

Примеры

Переключатель языков (b-lang-switcher)

Language switcher block
Переключатель языков (b-lang-switcher) в подвале страницы (b-foot), уменьшается размер шрифта.

b-lang-switcher with small text
