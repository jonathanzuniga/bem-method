# Способы модификации блока

В БЭМ-методологии блоки — это универсальные, повнорно используемые компоненты страницы. Одни и те же блоки используются в разных проектах, однако это не означает, что все БЭМ-проекты одинаковые. Блоки можно изменять различными способами:

* [Модификатором](#Модификатором)
* [Уровнем переопределения](#Уровнем-переопределения)
* [Миксом](#Миксом)
* [Контекстом](#Контекстом)

Принципы модификации блока:

Все способы не требуют: 
  * копировать код блока для внесения изменений;
  * изменять исходную реализацию блока.
* Создавать новый блок на основе существующего для внесения изменений./ чтобы внести правки. Такой подход позволяет обходитьбся одним блоком, который изменяется для каждого конкретного случая. Так в проекте не будет нескоольких кнопок для разных случаев, будет одна, измененная под каждую отельную ситуацию.  //Изменения, внесенные в блок, не создают новую сущность на основе универсального блока. Работа продолжется с одной и той же сущностью. Такой подход позволяет не содавать разные типы кнопок (`button_1`, `button_2`, `button_n`) для разных случаев. Есть одна, которая изменяется для каждого конкретного случая.

## Модификатором

Изменение блока производится при помощи установки/снятия модификатора, код которого описывает изменения. Блоку можно добавлять одновременно [несколько модификаторов](#).

Модификатор может задавать блоку:

* [внешний вид](#Меняем-внешний-вид-блока)
* [поведение](#Меняем-поведение-блока)
* [состояние](#)
* [структуру](#Меняем-структуру-блока) (например, добавлять или удалять элементы)

> **Важно** Не создавайте новый блок, который незначительно отличается от уже существующего, добавьте модификатор.

### Примеры

Рассмотрим все случаи изменения блока с помощью модификатора на примере блока `popup`.

По умолчанию фон у блока `popup` осутствует:

```css
.popup{
	bacground: none;
}
```

На странице `popup` выглядит следующим образом:

В HTML

```html
    <!-- Блок popup -->
    <div class="popup">...</div>
```

Отображение

![Transparent popup](https://github.com/innabelaya/bem-docs/blob/master/pics/block-modification/popup_default.png?raw=true)


#### Изменение внешнего вида блока

Модификатор `theme` в значении `sun` задаст фон желтого цвета:

```html
    <!-- Блок popup с модификатором theme в значении sun-->
    <div class="popup popup_theme_sun">...</div>
```

Отображение

![Yellow background modificator for popup block]()

#### Изменение поведения блока

Модификатор `direction` отвечает за направление отображения попапа.

Модификатор `direction` в значении `left` открывает попап влево:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_left">...</div>
```

Отображение

![Left direction modificator for popup block]()

Модификатор `direction` в значении `right` открывает попап вправо:

```html
    <!-- Блок popup -->
    <div class="popup popup_direction_right">...</div>
```

Отображение

![Right direction modificator for popup block]()


#### Изменение состояния блока

Модификатор `focused` приводит блок в состояние ”в фокусе”:

```html
    <!-- Блок popup -->
    <div class="popup popup_focused">...</div>
```

Отображение

![Focused popup block]()


> Подробнее о [правилах описания булевых модификаторов](https://ru.bem.info/methodology/naming-convention/#Модификатор-блока)

#### Изменение структуры блока

Модификатор `has-tail` в значении `true` добавляет блоку `popup` новый элемент — «хвостик». Также модификатор добавляет отступы блоку, освобождая место для хвостика.

```html
    <!-- Блок popup -->
    <div class="popup popup_has-tail">...</div>
```


![Modificator for adding close icon to popup]()

#### Добавляем несколько модификаторов 

Добавим модификаторы:

* `theme` в значении `sun`;
* `direction` в значении `left`. 

```html
    <!-- Блок popup -->
    <div class="popup popup_theme_sun popup_direction_left">...</div>
```

Попап откроется влево и будет иметь желтый фон.

![Left direction modificator for yellow popup block]()


## Уровнем переопределения

Изменение блока производится при помощи объединения свойств блока с разных уровней переопределния. Изменения блока описываются на отдельном уровне переопределения и подключаются при сборке. 

> [Принципы работы уровней переопределения]()

### Пример

Универсальные блоки из библиотеки должны выглядеть в разных проектах по-разному. Копировать код блока для каждого нового варианта использования не нужно. Достаточно описать изменения блока на другом уровне переопределения и подключить этот уровень в сборку. 

Общая часть кода применится с уровня библиотеки и изменения — с уровня проекта.



Библиотека подключается в БЭМ-проект как отдельный уровень. Изменять (доопределять или переопределять) блоки из этой библиотеки под требования проекта необходимо на другом уровне. При сборке следует подключать исходную реализацию блоков с уровня библиотеки и измененную — с уровня проекта.

Когда выйдет новая версия библиотеки, обновление не затронет изменения блоков для проекта, так как библиотека находится на одном уровне переопределения, а специфические реализации (доработки) блоков — на другом.

Рассмотрим на примере блока button. Подключим библиотеку на отдельный уровень (library.blocks) в проект. Изменим исходную высоту кнопки (блок button) из библиотеки с 20px на 24px. Для этого переопределим CSS-правило для блока button на уровне проекта (project.blocks):

project/
    library.blocks/
        button/
            button.css    # CSS-реализация кнопки в библиотеке (высота 20px)

    project.blocks/
        button/
            button.css    # переопределение на уровне проекта (высота 24px)
Если в новой версии библиотеки изменится высота кнопок (например, станет 18px), после обновления в проекте для блока button в браузере все равно применится переопределенное правило — 24px.



> [Больше прмеров]()

ИЛИ 

> Смотри также:
> [Пример 1](#)
> [Пример 2](#)

## Миксом

Изменение блока производится при помощи размещения дополнительных БЭМ-сущностей на одном DOM-узле с блоком. В БЭМ для этого используются миксы. [Микс](../method/key-concepts.ru.md#Микс) позволяет добавлять блоку поведение и стили других БЭМ-сущностей.

> Когда использовать микс, когда модификатор при изменении внешнего вида блока?
 
### Пример

С помощью миксов можно:
* [задавать внешнюю геометрию блока]()
* [изменять поведение и стили]()

## Контекстом

Изменение блока производится при помощи размещения одного блока в составе другого. 

> **Важно** Изменять внешний вид и поведение блока контекстом можно, если не получается использовать микс. Необходимо всегда стремиться использовать миксы. Так как при изменении блоков с помощью контекста теряется независимость блоков.

### Пример

?

Цвет текста вложенного блока меняется с зеленого на красный, если он помещен в блок с синим фоном с красными буквами.

Примеры

Переключатель языков (b-lang-switcher)

Language switcher block
Переключатель языков (b-lang-switcher) в подвале страницы (b-foot), уменьшается размер шрифта.

b-lang-switcher with small text
